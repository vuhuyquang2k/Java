apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: ewallet

resources:
  - ../../base

# Include optional components
components:
  - ../../components/cert-manager
  - ../../components/monitoring

# Secrets are applied separately via kubectl before kustomize
# secrets.yaml is generated from secrets.yaml.template by CI/CD using envsubst
# and applied via: kubectl apply -f k8s/overlays/prod/secrets.yaml

# Prod-specific patches
patches:
  - path: patches/resources.yaml
  - path: patches/replicas.yaml

# Labels for prod environment
labels:
  - pairs:
      environment: prod
